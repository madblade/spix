{"version":3,"sources":["../../../../../../server/app/engine/game3d/model_x/knot.js"],"names":[],"mappings":";;;;AAIA;;;;;;;;;;;;;;AAEA;;;;;;IAEM;;;;;;;;AAOF,aAPE,IAOF,CAAY,EAAZ,EAAgB,OAAhB,EAAyB,OAAzB,EAAkC;4CAPhC,MAOgC;;;AAE9B,aAAK,GAAL,GAAW,EAAX,CAF8B;AAG9B,aAAK,QAAL,GAAgB,OAAhB,CAH8B;;AAK9B,YAAI,CAAC,OAAD,EAAU;;;AAGV,sBAAU,sBAAV,CAHU;SAAd;;AAMA,aAAK,QAAL,GAAgB,OAAhB,CAX8B;KAAlC;;+BAPE;;iCAyBO,QAAQ;AACb,gBAAI,WAAW,KAAK,QAAL,EAAe,OAAO,KAAK,QAAL,CAArC,KACK,IAAI,WAAW,KAAK,QAAL,EAAe,OAAO,KAAK,QAAL,CAArC,KACA,OAAO,IAAP,CADA;;;;;;;qCAKI,QAAQ;AACjB,gBAAI,WAAW,KAAK,QAAL,EACX,KAAK,QAAL,GAAgB,IAAhB,CADJ,KAEK,IAAI,WAAW,KAAK,QAAL,EAChB,KAAK,QAAL,GAAgB,IAAhB,CADC;;;;4BAdO;AAAE,mBAAO,KAAK,GAAL,CAAT;;;;4BACA;AAAE,mBAAO,KAAK,QAAL,CAAT;;;;4BACA;AAAE,mBAAO,KAAK,QAAL,CAAT;;;WAvBd;;;kBAyCS","file":"knot.js","sourcesContent":["/**\n *\n */\n\n'use strict';\n\nimport Portal from './portal';\n\nclass Knot {\n\n    /**\n     * @param id knot id in XModel\n     * @param portal1 first portal\n     * @param portal2 second (if not, generated) portal\n     */\n    constructor(id, portal1, portal2) {\n\n        this._id = id;\n        this._portal1 = portal1;\n\n        if (!portal2) {\n            // TODO add random portal.\n            // TODO pick random world or create one.\n            portal2 = new Portal();\n        }\n\n        this._portal2 = portal2;\n    }\n\n    get id()        { return this._id; }\n    get portal2()   { return this._portal2; }\n    get portal1()   { return this._portal1; }\n\n    otherEnd(portal) {\n        if (portal === this._portal1) return this._portal2;\n        else if (portal === this._portal2) return this._portal1;\n        else return null;\n    }\n\n    // Can a portal link to itself?\n    removePortal(portal) {\n        if (portal === this._portal1)\n            this._portal1 = null;\n        else if (portal === this._portal2)\n            this._portal2 = null;\n    }\n\n}\n\nexport default Knot;\n"]}