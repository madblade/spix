{"version":3,"sources":["../../../../../../server/app/engine/game3d/model_entity/entity.js"],"names":[],"mappings":"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","file":"entity.js","sourcesContent":["/**\n *\n */\n\n'use strict';\n\nclass Entity {\n\n    constructor(id) {\n        // Properties\n        this._id            = id;\n        this._kind          = 'abstract';\n\n        // Inputs\n        this._directions    = null;\n\n        // PhysicsEngine\n        this._rotation      = null;\n        this._position      = null;\n        this._speed         = null;\n        this._acceleration  = null;\n        this._mass          = 1;\n        this._adherence     = [ false, false, false, // Right, Into, Up\n                                false, false, false]; // Left, From, Down\n\n        this._impulseSpeedStamp = null;\n        this._needsEuler        = true;\n\n        // Situation.\n        this._worldId       = -1;\n    }\n\n    get id()                { return this._id; }\n    get kind()              { return this._kind; }\n\n    get directions()        { return this._directions; }\n\n    get rotation()          { return this._rotation; }\n    get position()          { return this._position; }\n    get speed()             { return this._speed; }\n    get acceleration()      { return this._acceleration; }\n    get mass()              { return this._mass; }\n    get _impulseSpeed()     { return this._impulseSpeedStamp; }\n    get worldId()           { return this._worldId; }\n\n    set adherence(na)       { this._adherence = na; }\n    set rotation(nr)        { this._rotation = nr; }\n    set position(np)        { this._position = np; }\n    set speed(ns)           { this._speed = ns; }\n    set acceleration(na)    { this._acceleration = na; }\n    set _impulseSpeed(nis)  { this._impulseSpeedStamp = nis; }\n    set worldId(nwi)        { this._worldId = nwi; }\n\n    get adherence()         { return this._adherence; }\n\n    jump(direction) {\n        this._adherence[direction] = false;\n    }\n\n    spawn(position, worldId) {\n        this._worldId           = worldId;\n        this._position          = position;\n        this._rotation          = [0, Math.PI/2];\n        this._directions        = [false, false, false, false, false, false];\n        this._speed             = [0, 0, 0];\n        this._acceleration      = [0, 0, 0];\n        this._impulseSpeedStamp = [0, 0, 0];\n    }\n\n    die() {\n        this._position          = null;\n        this._rotation          = null;\n        this._speed             = null;\n        this._directions        = null;\n    }\n\n    stop() {\n        this._directions = [false, false, false, false, false, false];\n        this._impulseSpeedStamp = [0, 0, 0];\n        console.log(\"Entity stopping.\");\n    }\n\n    goForward()     { this._directions[0] = true; }\n    goRight()       { this._directions[1] = true; }\n    goLeft()        { this._directions[2] = true; }\n    goBackwards()   { this._directions[3] = true; }\n    goUp()          { this._directions[4] = true; }\n    goDown()        { this._directions[5] = true; }\n\n    stopForward()   { this._directions[0] = false; }\n    stopRight()     { this._directions[1] = false; }\n    stopLeft()      { this._directions[2] = false; }\n    stopBackwards() { this._directions[3] = false; }\n    stopUp()        { this._directions[4] = false; }\n    stopDown()      { this._directions[5] = false; }\n\n    rotate(p, y) {\n        this._rotation[0] = p;\n        this._rotation[1] = y;\n    }\n\n}\n\nexport default Entity;\n"]}