{"version":3,"sources":["../../../../../../server/app/engine/game3d/model_world/model.js"],"names":[],"mappings":";;;;AAIA;;;;;;;;;;;;;;;;;;AAEA;;;;AACA;;;;;;IAEM;AAIF,aAJE,UAIF,CAAY,IAAZ,EAAkB;4CAJhB,YAIgB;;AACd,aAAK,KAAL,GAAa,IAAb,CADc;;AAGd,aAAK,OAAL,GAAe,mBAAf,CAHc;;AAKd,aAAK,OAAL,CAAa,GAAb,CAAiB,CAAC,CAAD,EAAI,oBAAU,CAAC,CAAD,EAAI,IAAd,CAArB,EALc;KAAlB;;+BAJE;;iCAYO,SAAS;AACd,gBAAI,MAAO,WAAW,sBAAgB,UAAhB,CAA2B,KAAK,OAAL,CAAtC,CADG;;AAGd,gBAAI,KAAK,OAAL,CAAa,GAAb,CAAiB,GAAjB,CAAJ,EAA2B,OAA3B;AACA,gBAAI,IAAI,oBAAU,GAAV,EAAe,IAAf,CAAJ,CAJU;AAKd,iBAAK,OAAL,CAAa,GAAb,CAAiB,GAAjB,EAAsB,CAAtB,EALc;;AAOd,mBAAO,CAAP,CAPc;;;;iCAUT,SAAS;AACd,gBAAI,CAAC,OAAD,EAAU,UAAU,CAAC,CAAD,CAAxB;AACA,mBAAO,KAAK,OAAL,CAAa,GAAb,CAAiB,OAAjB,CAAP,CAFc;;;WAtBhB;;;WAEK,sBAAsB;kBA2BlB","file":"model.js","sourcesContent":["/**\n *\n */\n\n'use strict';\n\nimport World from './world';\nimport CollectionUtils from '../../math/collections';\n\nclass WorldModel {\n\n    static serverLoadingRadius = 5;\n\n    constructor(game) {\n        this._game = game;\n\n        this._worlds = new Map();\n\n        this._worlds.set(-1, new World(-1, this));\n    }\n\n    addWorld(worldId) {\n        let wid  = worldId || CollectionUtils.generateId(this._worlds);\n\n        if (this._worlds.has(wid)) return;\n        let w = new World(wid, this);\n        this._worlds.set(wid, w);\n\n        return w;\n    }\n\n    getWorld(worldId) {\n        if (!worldId) worldId = -1;\n        return this._worlds.get(worldId);\n    }\n\n}\n\nexport default WorldModel;\n"]}