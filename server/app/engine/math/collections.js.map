{"version":3,"sources":["../../../../../server/app/engine/math/collections.js"],"names":[],"mappings":"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","file":"collections.js","sourcesContent":["/**\n *\n */\n\n'use strict';\n\nclass CollectionUtils {\n\n    // O(log(n))\n    static _locationOf(element, array, start, end) {\n        start = start || 0;\n        end = end || array.length;\n        var pivot = parseInt(start + (end - start) / 2, 10);\n        if (end-start <= 1 || array[pivot] === element) return pivot;\n        if (array[pivot] < element) {\n            return CollectionUtils._locationOf(element, array, pivot, end);\n        } else {\n            return CollectionUtils._locationOf(element, array, start, pivot);\n        }\n    }\n\n    static insert(element, array) {\n        if (array === undefined) {\n            let e = new Error('BLD @insert: undefined array.');\n            console.log(e.stack);\n            return -1;\n        }\n        var location = CollectionUtils._locationOf(element, array) + 1;\n        if (array[location] === element) {\n            console.log(\"Util.insert: element already in sorted array.\");\n            return location;\n        }\n        array.splice(location, 0, element);\n        return location;\n    }\n\n    static insertWithLocation(location, element, array) {\n        if (array === undefined) {\n            let e = new Error('BLD: undefined array.');\n            console.log(e.stack);\n            return -1;\n        }\n        if (array[location] === element) {\n            console.log(\"Util.insert: element already in sorted array.\");\n            return location;\n        }\n        array.splice(location, 0, element);\n        return location;\n    }\n\n    static generateId(collection) {\n        var random = _ => Math.floor(Math.random() * 1000000);\n        var id = random();\n\n        if (collection instanceof Map) {\n            while (collection.has(id)) id = random();\n        }\n\n        else if (collection instanceof Array) { // Array\n            // Unicity mandatory check\n            var f = (e => e.id === id);\n            while (collection.filter(f).length > 0) id = random();\n        }\n\n        else if (collection instanceof Object) { // Object <-> Map\n            // Unicity mandatory check\n            while (id in collection) id = random();\n        }\n\n        return id;\n    }\n\n    static numberOfProperties(object) {\n        return Object.keys(object).length;\n    }\n\n    static removeFromArray(array, object) {\n        if (array === undefined) {\n            let e = new Error('BLD @removeFromArray: undefined array.');\n            console.log(e.stack);\n            return -1;\n        }\n        const objectId = array.indexOf(object);\n        if (objectId > -1) array.splice(objectId, 1);\n        return objectId;\n    }\n\n    static removeFromArrayWithId(array, objectId) {\n        if (objectId > -1) array.splice(objectId, 1);\n    }\n\n    static forEachProperty(object, func) {\n        Object.keys(object).forEach(func);\n    }\n\n}\n\nexport default CollectionUtils;\n"]}